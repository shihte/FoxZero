# Sevens Card Game - FoxZero Compliance Report

This document maps the C++ implementation to the design requirements specified in `FoxZero.md` and user requests.

## 1. Core Game Rules Compliance
| Requirement | Status | Implementation Location |
| :--- | :--- | :--- |
| **Chinese UI** | ✅ Complete | `src/Card.cpp`, `src/SevensGameCLI.cpp`, `src/PlacedSuit.cpp` |
| **Spade 7 Start** | ✅ Complete | `SevensGame::setupNewGame()` - Automatically sets dealer and first player. |
| **Forced First Move** | ✅ Complete | `SevensGame::isValidMove()` - Enforces Spade 7 as the only valid first move. |
| **Ace/Face Ranks** | ✅ Complete | `src/Card.cpp` - Uses A, J, Q, K string representation. |

## 2. AlphaZero / Reinforcement Learning Support
| Feature | Implementation | Source Code Reference |
| :--- | :--- | :--- |
| **Dealer Tracking** | `dealerNumber` stored in `SevensGame`. | `SevensGame.h:40`, `SevensGame.cpp:112` |
| **Pass Record** | `passRecord` tracks suit-specific gaps for "Blocking" inference. | `SevensGame.h:43`, `SevensGame::recordPass()` |
| **Raw Penalties** | Multiplier logic: winner(x2), dealer(x2), score>50(x2). | `SevensGame::calculateFinalRewards()` |
| **Reward Normalization** | Normalizes scores to `[-1, 1]` using `SCALE_FACTOR`. | `SevensGame::calculateFinalRewards()` |

## 3. Project Structure
- `include/`: Header files defining the core logic and interfaces.
- `src/`: Implementation files.
- `CMakeLists.txt`: Build configuration for macOS/Linux.
- `FoxZero.md`: The original design document for AI algorithm.

## 4. Verification Guide
To verify the final rewards and multiplier logic:
1. Run the game: `./build/sevens_game`.
2. Play through to the end (or set 0 computer players and play manually).
3. Observe the `### 結算結果 ###` section for penalty and reward outputs.

---
*Report generated by Antigravity AI.*
